<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/style.css">
    <style>
        .btn {
            background: #000;
            border-style: none;
            border: 0;
            color: #FFF;
            display: inline-block;
            padding: 16px;
            text-decoration: none;
            cursor: pointer;
            margin-right: 10px;
        }
        .btn:active {
            background: #666;
        }
    </style>
    <title>Annotate - CSI-Pi</title>
</head>
<body>
<div id="app">
<pre>
    _   _  _ _  _  ___ _____ _ _____ ___
   /_\ | \| | \| |/ _ \_   _/_\_   _| __|
  / _ \| .` | .` | (_) || |/ _ \| | | _|
 /_/ \_\_|\_|_|\_|\___/ |_/_/ \_\_| |___|

Annotate, Steven M. Hernandez
</pre>
<div v-if="false">Loading...</div>
<div v-cloak>

    <div>
        <label>
            Create a new annotation label:
            <input type="text" v-model="new_label_text" v-on:keyup.enter="createLabel()">
            <button v-on:click="createLabel()">Create</button>
        </label>
    </div>


There are {{ labels.length }} labels.
Press and hold one of the buttons below to begin annotating the CSI data.
<div>
    <button v-for="l in labels" v-on:mousedown="sendLabel(l)" v-on:mouseup="sendLabel('none')" class="btn">
        {{ l }}
    </button>
</div>

</div>
</div>

<script src="/js/vue.min.js"></script>
<script src="/js/axios.min.js"></script>
<script src="/js/apexcharts.min.js"></script>
<script src="/js/vue-apexcharts.min.js"></script>
<script src="/js/lodash.full.min.js"></script>
<script>
var app = null;
window.onload = () => {
    app = new Vue({
        el: '#app',
        data() {
            return {
                new_label_text: "",
                labels: [],
            }
        },
        methods: {
            createLabel() {
                if (this.new_label_text !== "") {
                    this.labels.push(this.new_label_text);
                    this.new_label_text = "";
                }
            },
            sendLabel(annotation_label) {
                axios({
                    method: "post",
                    url: '/annotation?value=' + annotation_label,
                })
            }
        },
    });
}
</script>
</body>
</html>
